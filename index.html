<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        
        <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
		<script>src="phonegap.js"</script>
        <script type="text/javascript">

        $(document).ready(function(){
	var host =  '192.168.1.2';
	var port = 4000;
	var path = '/api/devices/testD1@dev';
            $("#ON").click(function(){
     
            /*$.ajax({
                      url: 'http://' + host + ':' + port + path,
                      data : JSON.stringify({"properties":{"light":"ON"}}),
                      type : 'PATCH',
                      contentType : 'application/json',
                      processData: false,
                      dataType: 'json',
                      headers:{
                        "Authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1lIjoiZGV2IiwiZW1haWwiOiJkZXZAdGFudGEuZ2EiLCJhY3RpdmUiOnRydWUsImlhdCI6MTQ5ODAwOTUyOCwiZXhwIjoxNDk4NjE0MzI4LCJqdGkiOiIzZnRlNXJkOWR3ajQ2Yzcxb3YifQ.Mnr1cFm0f0T60qXIZ_YG98OqK3GRjhnAAPinU9-3kac",
                        "Content-Type":"application/json"

                      }
                    });*/
		    var host =  '192.168.1.2';
var port = 4000;
var path = '/api/devices/testD1@dev';
var url = 'https://'+ host + ':' + port + path;
var method = "PATCH";
var postData = JSON.stringify({"properties":{"light":"ON"}});
var headers = {
   "Authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1lIjoiZGV2IiwiZW1haWwiOiJkZXZAdGFudGEuZ2EiLCJhY3RpdmUiOnRydWUsImlhdCI6MTQ5ODAwOTUyOCwiZXhwIjoxNDk4NjE0MzI4LCJqdGkiOiIzZnRlNXJkOWR3ajQ2Yzcxb3YifQ.Mnr1cFm0f0T60qXIZ_YG98OqK3GRjhnAAPinU9-3kac",
   "Content-Type":"application/json"
}
var async = true;

var request = new XMLHttpRequest();
request.onload = function () {
  var status = request.status; // HTTP response status, e.g., 200 for "200 OK"
   var data = request.responseText; // Returned data, e.g., an HTML document.
   console.log(request.responseText);
}
request.open(method, url, async);
request.setRequestHeader("Content-Type", "application/json");
request.setRequestHeader("Authorization", headers.Authorization);
request.send(postData);

            });
            $("#OFF").click(function(){
     
            $.ajax({
                      url: 'http://' + host + ':' + port + path,
                      data : JSON.stringify({"properties":{"light":"OFF"}}),
                      type : 'PATCH',
                      contentType : 'application/json',
                      processData: false,
                      dataType: 'json',
                      headers:{
                        "Authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1lIjoiZGV2IiwiZW1haWwiOiJkZXZAdGFudGEuZ2EiLCJhY3RpdmUiOnRydWUsImlhdCI6MTQ5ODAwOTUyOCwiZXhwIjoxNDk4NjE0MzI4LCJqdGkiOiIzZnRlNXJkOWR3ajQ2Yzcxb3YifQ.Mnr1cFm0f0T60qXIZ_YG98OqK3GRjhnAAPinU9-3kac",
                        "Content-Type":"application/json"

                      }
                    });

            });
			
           
        });    
        </script>
		<style>
		.roundbutton{
		  display:block;
		  height: 300px;
		  width: 300px;
		  border-radius: 50%;
		  border: 1px solid Black;
		  border-width:10px;
		  background-color: #100F0A;

		}

		.wrap { position: absolute;
		  margin: auto;
		  top: 0;
		  right: 0;
		  bottom: 0;
		  left: 0;
		  width: 300px;
		  height: 600px;
		  }
		  .Green{
		  border-color: #02FC66;
		  }
		  .red{
		  border-color: #F83837;
		  }
		  .FontON{
		  font-size:50px;
		  color: #02FC66;
		  }
		  .FontOFF{
		  font-size:50px;
		  color: #F83837;
		  }
		</style>
    </head>
    
    <body>
		<div class="wrap">
			<button id="ON"  class="roundbutton Green "><span class = "FontON">ON</span></button><br>
			<button id="OFF"class="roundbutton red"> <span class = "FontOFF">OFF</span></button>
		</div>
    </body>
</html>
